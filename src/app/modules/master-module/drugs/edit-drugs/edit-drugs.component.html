<h1 mat-dialog-title>Edit Drug</h1>
<mat-divider></mat-divider>
    <form  [formGroup]="drug">     
                <div class="row">
                    <div class="col-md-4">
                        <mat-form-field class="example-full-width" appearance="legacy">
                            <mat-label>Code</mat-label>
                            <input  matInput formControlName="drug_code"> 
                            <!-- <mat-error *ngIf="drug.get('drug_code').hasError('required')" >Code is required</mat-error>                             -->
                        </mat-form-field>
                    </div>
                
                    <div class="col-md-4">
                    <mat-form-field class="example-full-width" appearance="legacy">
                        <mat-label class="star">Category</mat-label>
                        <mat-select formControlName="drg_Category_Id" #typecategory
                            (valueChange)="typescategory(typecategory.value)">
                            <mat-option *ngFor="let c of category" [value]="c.drg_Category_Id">
                                {{c.drg_Category}}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="drug.get('drg_Category_Id').hasError('required')">Category is required</mat-error>
                    </mat-form-field>

                </div>
                    <div class="col-md-4">
                        <mat-form-field [hideRequiredMarker]="true" class="example-full-width" appearance="legacy" >
                            <mat-label class="star">Drug Name</mat-label>
                            <input matInput maxlength="500" formControlName="drg_name" required>
                            <mat-error *ngIf="drug.get('drg_name').hasError('required')" >Drug Name is required</mat-error>                           
                            <mat-error *ngIf="drug.get('drg_name').hasError('numericCheck')">
                                Drug Name will allow alphanumeric or characters
                            </mat-error>   
                            <mat-error *ngIf="drug.get('drg_name').hasError('alfaNumCharCheck')">
                                Drug Name will allow alphanumeric characters
                            </mat-error> 
                            <mat-error *ngIf="drug.get('drg_name').hasError('spaceCheck')">
                                Drug Name will not allow white space
                            </mat-error>   
                        </mat-form-field>
                    </div>  
                    </div>
                    <div class="row">          
                    <div class="col-md-4">
                        <mat-form-field [hideRequiredMarker]="true" class="example-full-width" appearance="legacy">
                            <mat-label class="star">Type</mat-label>                            
                            <mat-select formControlName="drg_type_id_FK" required>
                                <mat-option *ngFor="let t of type" [value]="t.drug_type_Id">{{t.drg_type_name}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="drug.get('drg_type_id_FK').hasError('required')" >Type is required</mat-error>
                        </mat-form-field>
                    </div>
                    
                    <div class="col-md-2">
                        <mat-form-field [hideRequiredMarker]="true" class="example-full-width" appearance="legacy">
                            <mat-label>Strength</mat-label>
                            <input matInput maxlength="4" placeholder="Eg:20mg/25ml/10g" formControlName="drg_strength">
                            <!-- <mat-error *ngIf="drug.get('drg_strength').hasError('required')"> Strength is required</mat-error> -->
                            <mat-error *ngIf="drug.get('drg_strength').hasError('strengthCheck')">
                                Please enter digit only
                             </mat-error> 
                        </mat-form-field>
                    </div>
                    <div class="col-md-2">
                        <mat-form-field [hideRequiredMarker]="true" class="example-full-width" appearance="legacy" >
                            <mat-label>Units</mat-label>                            
                            <mat-select formControlName="drg_unit_id_FK">
                                <mat-option *ngFor="let u of units" [value]="u.drg_unit_id">{{u.drg_Unit}}</mat-option>
                            </mat-select>
                            <!-- <mat-error *ngIf="drug.get('drg_unit_id_FK').hasError('required')" >Units is required</mat-error> -->
                        </mat-form-field>
                    </div>
                    
                    <div class="col-md-4">
                        <mat-form-field [hideRequiredMarker]="true" class="example-full-width" appearance="legacy" >
                            <mat-label class="star">Manufacturer</mat-label>
                            <mat-select formControlName="drg_manufacturer_id_FK" required>
                                <mat-option *ngFor="let m of manuf" [value]="m.drg_manuf_id">{{m.drg_manuf_name}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="drug.get('drg_manufacturer_id_FK').hasError('required')" >Manufacturer is required</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="example-full-width" appearance="legacy">
                            <mat-label>Warning</mat-label>
                            <textarea matInput  maxlength="500" formControlName="drg_warnings"></textarea> 
                            <!-- <mat-error *ngIf="drug.get('drg_warnings').hasError('required')" >Warning is required</mat-error>  -->
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="example-full-width" appearance="legacy">
                            <mat-label>Instruction</mat-label>
                            <textarea matInput formControlName="instruction" maxlength="500"></textarea>
                        </mat-form-field>
                    </div>
                    <!-- <div class="col-md-6">
                        <mat-form-field  class="example-full-width" appearance="legacy">
                            <mat-label>Description</mat-label>
                            <textarea matInput formControlName="discription" maxlength="500"></textarea>
                        </mat-form-field>
                    </div> -->
                    <div class="col-md-6">
                        <mat-checkbox class="example-margin" (change)="onChangeMedcineType($event)" formControlName="drg_medcine_type">Generic</mat-checkbox>
                    </div>
                    </div>
                    <!-- <div class="col-md-12" >
                        <mat-form-field class="example-full-width" appearance="legacy">
                            <mat-label>Instruction</mat-label>
                            <textarea matInput formControlName="instruction" maxlength="500"></textarea>
                        </mat-form-field>
                    </div> -->
                
           
    </form>

<div mat-dialog-actions align="end">
    <button id="save" mat-raised-button color="primary" (click)="updateform()">Update</button>
    <button mat-dialog-close id="cancel" mat-raised-button color="warn">Close</button>
</div>